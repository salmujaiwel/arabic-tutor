<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>ุงููุชุงุจุงุช ุงูุฃุณุจูุนูุฉ</title><script src="https://cdn.tailwindcss.com"></script><style>@import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap');body{font-family:'Cairo',sans-serif;direction:rtl;background:#000000;min-height:100vh}.form-container{background:rgba(255,255,255,0.95);backdrop-filter:blur(10px);box-shadow:0 20px 40px rgba(0,0,0,0.1)}.input-field{transition:all 0.3s ease;border:2px solid #e2e8f0}.input-field:focus{border-color:#6b7280;box-shadow:0 0 0 3px rgba(107,114,128,0.1);transform:translateY(-1px)}.btn-primary{background:linear-gradient(135deg,#1f2937 0%,#111827 100%);transition:all 0.3s ease}.btn-primary:hover{transform:translateY(-2px);box-shadow:0 10px 20px rgba(31,41,55,0.3)}.results-card{background:linear-gradient(135deg,#f9fafb 0%,#f3f4f6 100%);border:1px solid #e5e7eb;animation:slideUp 0.5s ease-out}@keyframes slideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.metric-card{background:white;transition:transform 0.3s ease}.metric-card:hover{transform:scale(1.02)}.word-counter{font-weight:600}.structure-guide{background:linear-gradient(135deg,#eff6ff 0%,#dbeafe 100%);border:1px solid #93c5fd}.paragraph-counter{font-weight:600}</style></head><body class="min-h-screen py-8"><div class="container mx-auto px-4 max-w-4xl"><div class="text-center mb-10"><h1 class="text-4xl font-bold text-white mb-4 drop-shadow-lg">ุชูุฏูู ุงููุชุงุจุงุช ุงูุฃุณุจูุนูุฉ</h1><p class="text-white/90 text-lg">ุงุฎุชุฑ ุงูููุงุฑุฉ ุงูุชู ุดูุฑุญุช ูู ุงููุญุงุถุฑุฉ ูุงูุชุจ ุนู...</p></div><div class="structure-guide rounded-2xl p-6 mb-8 text-gray-800"><h2 class="text-2xl font-bold mb-4 flex items-center">ุฅุฑุดุงุฏุงุช ุงููุชุงุจุฉ</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><h3 class="font-semibold text-lg mb-2">ูุชุทูุจุงุช ุงูุนููุงู</h3><ul class="text-sm space-y-1"><li>โข ุนููุงู ุฌุฐุงุจ ูููุงุณุจ ูููุญุชูู</li><li>โข ูุนุจุฑ ุนู ุงูููุถูุน ุจูุถูุญ</li><li>โข ูุซูุฑ ุงูุชูุงู ุงููุงุฑุฆ</li></ul></div><div><h3 class="font-semibold text-lg mb-2">ูููู ุงูููุงู ุงููุทููุจ</h3><ul class="text-sm space-y-1"><li>โข <strong>ุงูููุฏูุฉ:</strong> ุชูููุฏ ูุชุนุฑูู ุจุงูููุถูุน</li><li>โข <strong>ุงูุนุฑุถ:</strong> ุชุทููุฑ ุงูุฃููุงุฑ ูุงูุชูุงุตูู</li><li>โข <strong>ุงูุฎุงุชูุฉ:</strong> ุชูุฎูุต ูุงุณุชูุชุงุฌ</li></ul></div></div></div><div class="form-container rounded-2xl p-8 mb-8"><form id="submissionForm" class="space-y-8"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label for="studentId" class="block text-lg font-semibold text-gray-800 mb-3">ุงุณู ุงูุทุงูุจ ูุงูุดุนุจุฉ ูุงูุฑูู ุงูุฌุงูุนู</label><input type="text" id="studentId" name="student_id" required placeholder="ุณูุทุงู ุงููุฌููู 12353 447123456" class="input-field w-full px-4 py-3 rounded-xl text-lg focus:outline-none focus:ring-2 focus:ring-gray-300"/></div><div><label for="weeklyTopic" class="block text-lg font-semibold text-gray-800 mb-3">ููุถูุน ุงูุฃุณุจูุน</label><select id="weeklyTopic" name="weekly_topic" required class="input-field w-full px-4 py-3 rounded-xl text-lg focus:outline-none focus:ring-2 focus:ring-gray-300"><option value="">ุงุฎุชุฑ ุงูููุถูุน</option><option value="ููุฒุฉ ุงููุตู ูุงููุทุน">ููุฒุฉ ุงููุตู ูุงููุทุน</option><option value="ุงูููุฒุงุช: ูุณุท ุงููููุฉ ูุขุฎุฑูุง">ุงูููุฒุงุช: ูุณุท ุงููููุฉ ูุขุฎุฑูุง</option><option value="ุชุทููุฑ ุงููุชุงุจุฉ ุจุตูุงุบุฉ ุนููุงู ุฌุฐุงุจ">ุชุทููุฑ ุงููุชุงุจุฉ ุจุตูุงุบุฉ ุนููุงู ุฌุฐุงุจ</option><option value="ุตูุงุบุฉ ุงูุนููุงู ูุงูููุฏูุฉ">ุตูุงุบุฉ ุงูุนููุงู ูุงูููุฏูุฉ</option><option value="ุงุณุชุฑุงุชูุฌูุงุช ุงูุชูุซูู ุงููุนุฌูู">ุงุณุชุฑุงุชูุฌูุงุช ุงูุชูุซูู ุงููุนุฌูู</option><option value="ุงุณุชุฑุงุชูุฌูุงุช ุงูุชูุซูู ุงูุชุฑููุจู">ุงุณุชุฑุงุชูุฌูุงุช ุงูุชูุซูู ุงูุชุฑููุจู</option><option value="ูุชุงุจุฉ ูุญุชูู ุงุณุชูุฏุงูู">ูุชุงุจุฉ ูุญุชูู ุงุณุชูุฏุงูู</option><option value="ูุชุงุจุฉ ูุญุชูู ูุชุฎุตุต: ุงุฎุชูุงุฑ ุงููุตุทูุญุงุช">ูุชุงุจุฉ ูุญุชูู ูุชุฎุตุต: ุงุฎุชูุงุฑ ุงููุตุทูุญุงุช</option><option value="ูุชุงุจุฉ ูุญุชูู ูุชุฎุตุต: ุชูุฑูุฑ">ูุชุงุจุฉ ูุญุชูู ูุชุฎุตุต: ุชูุฑูุฑ</option><option value="ูุชุงุจุฉ ูุญุชูู ูุชุฎุตุต: ุฎุทุงุจ ุฅุฏุงุฑู">ูุชุงุจุฉ ูุญุชูู ูุชุฎุตุต: ุฎุทุงุจ ุฅุฏุงุฑู</option><option value="ูุชุงุจุฉ ูุญุชูู ูุชุฎุตุต: ุจุฑูุฏ ุฅููุชุฑููู">ูุชุงุจุฉ ูุญุชูู ูุชุฎุตุต: ุจุฑูุฏ ุฅููุชุฑููู</option><option value="ูุชุงุจุฉ ูุญุชูู ูุชุฎุตุต: ููุดูุฑุงุช ุงูุชูุงุตู ุงูุงุฌุชูุงุนู">ูุชุงุจุฉ ูุญุชูู ูุชุฎุตุต: ููุดูุฑุงุช ุงูุชูุงุตู ุงูุงุฌุชูุงุนู</option><option value="ูุชุงุจุฉ ูุญุชูู ูุชุฎุตุต: ูุชุงุจุฉ ุฅุจุฏุงุนูุฉ">ูุชุงุจุฉ ูุญุชูู ูุชุฎุตุต: ูุชุงุจุฉ ุฅุจุฏุงุนูุฉ</option><option value="ูุชุงุจุฉ ูุญุชูู ูุชุฎุตุต: ูุชุงุจุฉ ุฃูุงุฏูููุฉ">ูุชุงุจุฉ ูุญุชูู ูุชุฎุตุต: ูุชุงุจุฉ ุฃูุงุฏูููุฉ</option></select></div></div><div><label for="title" class="block text-lg font-semibold text-gray-800 mb-3">ุนููุงู ุงูููุงู</label><input type="text" id="title" name="title" required placeholder="ุงูุชุจ ุนููุงูุงู ุฌุฐุงุจุงู ููุนุจุฑุงู ุนู ููุถูุน ููุงูู" class="input-field w-full px-4 py-3 rounded-xl text-lg focus:outline-none focus:ring-2 focus:ring-gray-300" minlength="5" maxlength="100"/><div class="mt-2 text-sm text-gray-600">ุชูุจูู: ุงุฌุนู ุงูุนููุงู ูุงุถุญุงู ูุฌุฐุงุจุงู ููุนุจุฑ ุนู ูุญุชูู ููุงูู</div></div><div><label for="article" class="block text-lg font-semibold text-gray-800 mb-3">ูุต ุงูููุงู (150-200 ูููุฉ - 3 ููุฑุงุช ูุทููุจุฉ)</label><div class="relative"><textarea id="article" name="article" rows="18" required placeholder="ุงูุชุจ ููุงูู ููุง ููุณูุงู ุฅูู ุซูุงุซ ููุฑุงุช:&#10;ุงูููุฑุฉ ุงูุฃููู - ุงูููุฏูุฉ: ุชูููุฏ ููููุถูุน ูุชุนุฑูู ุจู...&#10;ุงูููุฑุฉ ุงูุซุงููุฉ - ุงูุนุฑุถ: ุชุทููุฑ ุงูุฃููุงุฑ ูุงูุชูุงุตูู...&#10;ุงูููุฑุฉ ุงูุซุงูุซุฉ - ุงูุฎุงุชูุฉ: ุชูุฎูุต ูุงุณุชูุชุงุฌ..." class="input-field w-full px-4 py-4 rounded-xl text-lg leading-relaxed resize-y min-h-[400px] focus:outline-none focus:ring-2 focus:ring-gray-300"></textarea><div class="absolute bottom-4 left-4 space-y-2"><div class="bg-gray-100 px-3 py-1 rounded-full"><span class="text-sm">ุนุฏุฏ ุงููููุงุช ุงูุนุฑุจูุฉ: </span><span id="wordCount" class="word-counter text-sm">0</span></div><div class="bg-blue-100 px-3 py-1 rounded-full"><span class="text-sm">ุนุฏุฏ ุงูููุฑุงุช: </span><span id="paragraphCount" class="paragraph-counter text-sm">0</span></div></div></div><div class="mt-3 text-sm text-gray-600">๐ <strong>ุชุฐููุฑ:</strong> ูุฌุจ ุฃู ูุญุชูู ุงูููุงู ุนูู ุซูุงุซ ููุฑุงุช ูููุตูุฉ: ููุฏูุฉ ูุนุฑุถ ูุฎุงุชูุฉ</div></div><div class="text-center"><button type="submit" id="submitBtn" class="btn-primary text-white py-4 px-12 rounded-xl text-xl font-semibold shadow-lg focus:outline-none focus:ring-4 focus:ring-gray-300">ุฅุฑุณุงู ุงูููุงู ููุชูููู</button></div></form><div id="statusMessage" class="mt-8 p-6 rounded-xl hidden"><div id="statusText" class="text-center font-semibold text-lg"></div></div></div><div id="resultsContainer" class="hidden"><div class="results-card rounded-2xl p-8 text-gray-800"><h2 class="text-3xl font-bold text-center mb-8 text-gray-800">ูุชุงุฆุฌ ุงูุชูููู</h2><div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"><div class="metric-card p-6 rounded-xl text-center shadow-lg"><div class="text-2xl mb-2">๐</div><div class="text-sm text-gray-600 mb-2">ุงูุชูููู ุงูุนุงู</div><div id="rating" class="text-3xl font-bold text-gray-700">-/10</div></div><div class="metric-card p-6 rounded-xl text-center shadow-lg"><div class="text-2xl mb-2">๐</div><div class="text-sm text-gray-600 mb-2">ุงูุชููุน ุงููุนุฌูู</div><div id="lexicalDiversity" class="text-3xl font-bold text-gray-700">-%</div></div><div class="metric-card p-6 rounded-xl text-center shadow-lg"><div class="text-2xl mb-2">๐</div><div class="text-sm text-gray-600 mb-2">ุงููุซุงูุฉ ุงููุนุฌููุฉ</div><div id="lexicalDensity" class="text-3xl font-bold text-gray-700">-%</div></div><div class="metric-card p-6 rounded-xl text-center shadow-lg"><div class="text-2xl mb-2">๐</div><div class="text-sm text-gray-600 mb-2">ุนุฏุฏ ุงูููุฑุงุช</div><div id="structureCount" class="text-3xl font-bold text-gray-700">-</div></div></div><div class="bg-gray-100 rounded-xl p-6 mb-6 border border-gray-200"><h3 class="text-xl font-bold mb-4 flex items-center text-gray-800">๐ฌ ููุฎุต ุงูุชูููู</h3><p id="summary" class="text-gray-700 text-lg leading-relaxed"></p></div><div class="bg-gray-100 rounded-xl p-6 border border-gray-200"><h3 class="text-xl font-bold mb-4 flex items-center text-gray-800">ุงูุชูููู ุงูุชูุตููู ูุงููุตุงุฆุญ</h3><div id="detailedFeedback" class="text-gray-700 leading-relaxed whitespace-pre-wrap"></div></div></div></div></div><script>const form=document.getElementById('submissionForm');const titleInput=document.getElementById('title');const articleTextarea=document.getElementById('article');const wordCountSpan=document.getElementById('wordCount');const paragraphCountSpan=document.getElementById('paragraphCount');const submitBtn=document.getElementById('submitBtn');const statusMessage=document.getElementById('statusMessage');const statusText=document.getElementById('statusText');const resultsContainer=document.getElementById('resultsContainer');const WEBHOOK_URL='https://salmujaiwel.app.n8n.cloud/webhook/writing-feedback';function countArabicWords(text){if(!text||typeof text!=='string')return 0;const words=text.trim().split(/\s+/).filter(word=>{const cleanWord=word.replace(/[.,!?;:()""''ยซยป\-\u060C\u061B\u061F]/g,'');return cleanWord.length>0&&/[\u0600-\u06FF]/.test(cleanWord);});return words.length;}function countParagraphs(text){if(!text||typeof text!=='string')return 0;const paragraphs=text.split(/\n/).map(p=>p.trim()).filter(p=>p.length>20);return paragraphs.length;}function updateCounts(){const text=articleTextarea.value.trim();const arabicWords=countArabicWords(text);const paragraphs=countParagraphs(text);wordCountSpan.textContent=arabicWords;paragraphCountSpan.textContent=paragraphs;if(arabicWords<150){wordCountSpan.className='word-counter text-sm text-amber-600';wordCountSpan.parentElement.className='bg-amber-50 px-3 py-1 rounded-full border border-amber-200';}else if(arabicWords>200){wordCountSpan.className='word-counter text-sm text-red-600';wordCountSpan.parentElement.className='bg-red-50 px-3 py-1 rounded-full border border-red-200';}else{wordCountSpan.className='word-counter text-sm text-green-600';wordCountSpan.parentElement.className='bg-green-50 px-3 py-1 rounded-full border border-green-200';}if(paragraphs<3){paragraphCountSpan.className='paragraph-counter text-sm text-red-600';paragraphCountSpan.parentElement.className='bg-red-50 px-3 py-1 rounded-full border border-red-200';}else if(paragraphs===3){paragraphCountSpan.className='paragraph-counter text-sm text-green-600';paragraphCountSpan.parentElement.className='bg-green-50 px-3 py-1 rounded-full border border-green-200';}else{paragraphCountSpan.className='paragraph-counter text-sm text-blue-600';paragraphCountSpan.parentElement.className='bg-blue-50 px-3 py-1 rounded-full border border-blue-200';}}articleTextarea.addEventListener('input',updateCounts);form.addEventListener('submit',async function(e){e.preventDefault();const formData=new FormData(form);const studentId=formData.get('student_id');const weeklyTopic=formData.get('weekly_topic');const title=formData.get('title');const article=formData.get('article');const studentIdParts=studentId.trim().split(/\s+/);if(studentIdParts.length<3){showStatus('ูุฌุจ ุฅุฏุฎุงู ุงูุงุณู ูุงูุดุนุจุฉ ูุงูุฑูู ุงูุฌุงูุนู ูุงููุฉ (ูุซุงู ุณูุทุงู ุงููุฌููู 12353 447123456)','error');return;}if(!title.trim()||title.trim().length<5){showStatus('ูุฌุจ ุฅุฏุฎุงู ุนููุงู ููููุงู (ุงูุญุฏ ุงูุฃุฏูู: 5 ุฃุญุฑู)','error');titleInput.focus();return;}const arabicWordCount=countArabicWords(article);const paragraphCount=countParagraphs(article);if(arabicWordCount<150){showStatus(`ูุง ูููู ุฅุฑุณุงู ุงูููุงู. ูุญุชูู ุนูู ${arabicWordCount} ูููุฉ ุนุฑุจูุฉ ููุท. ุงูุญุฏ ุงูุฃุฏูู ุงููุทููุจ: 150 ูููุฉ ุนุฑุจูุฉ.`,'error');articleTextarea.focus();return;}if(paragraphCount<3){showStatus(`ุชุญุฐูุฑ: ุงูููุงู ูุญุชูู ุนูู ${paragraphCount} ููุฑุงุช ููุท. ูููุตุญ ุจูุฌูุฏ 3 ููุฑุงุช (ููุฏูุฉุ ุนุฑุถุ ุฎุงุชูุฉ). ูู ุชุฑูุฏ ุงููุชุงุจุนุฉุ`,'warning');if(!confirm('ุงูููุงู ูุง ูุญุชูู ุนูู 3 ููุฑุงุช ูููุตูุฉ. ูู ุชุฑูุฏ ุฅุฑุณุงูู ููุชูููู ุฑุบู ุฐููุ')){articleTextarea.focus();return;}}showStatus('๐ ูุชู ุฅุฑุณุงู ุงูููุงู ูุงูุญุตูู ุนูู ุงูุชูููู...','loading');submitBtn.disabled=true;submitBtn.innerHTML='ุชุญุช ุงูุชูููู...';resultsContainer.classList.add('hidden');const data={student_id:studentId,weekly_topic:weeklyTopic,title:title,article:article};try{const response=await fetch(WEBHOOK_URL,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`);}const result=await response.json();showStatus('ุชู ุงุณุชูุงู ุงูุชูููู ุจูุฌุงุญ! ุฑุงุฌุน ุงููุชุงุฆุฌ ุฃุฏูุงู','success');displayResults(result);}catch(error){console.error('Error:',error);showStatus('ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุฅุฑุณุงู ุงูููุงู. ุชุฃูุฏ ูู ุงุชุตุงูู ุจุงูุฅูุชุฑูุช ูุญุงูู ูุฑุฉ ุฃุฎุฑู.','error');}finally{submitBtn.disabled=false;submitBtn.innerHTML='ุฅุฑุณุงู ุงูููุงู ููุชูููู';}});function showStatus(message,type){statusText.textContent=message;let bgColor,textColor;switch(type){case 'success':bgColor='bg-green-100 border border-green-300';textColor='text-green-800';break;case 'error':bgColor='bg-red-100 border border-red-300';textColor='text-red-800';break;case 'warning':bgColor='bg-yellow-100 border border-yellow-300';textColor='text-yellow-800';break;case 'loading':bgColor='bg-gray-100 border border-gray-300';textColor='text-gray-800';break;}statusMessage.className=`mt-8 p-6 rounded-xl ${bgColor}`;statusText.className=`text-center font-semibold text-lg ${textColor}`;statusMessage.classList.remove('hidden');}function formatFeedbackText(text){if(!text)return 'ุดูุฑุงู ูุฅุฑุณุงู ููุงูู. ุณูุชู ูุฑุงุฌุนุชู ูุฑูุจุงู.';let formatted=text.replace(/- /g,'โข ').replace(/\* /g,'โข ').replace(/^(ุงูุชูููู:[^\n]*)/gm,'<div class="font-bold text-lg mb-3 text-gray-800">$1</div>').replace(/^(ุงูููุฎุต:[^\n]*)/gm,'<div class="font-bold text-lg mb-3 text-gray-800">$1</div>').replace(/^(ุชูููู ุงูุนููุงู:[^\n]*)/gm,'<div class="font-semibold text-base mb-2 text-blue-700">$1</div>').replace(/^(ุชูููู ูููู ุงูููุงู:[^\n]*)/gm,'<div class="font-semibold text-base mb-2 text-green-700">$1</div>').replace(/^(ุงูุฃุฎุทุงุก ุงูุฅููุงุฆูุฉ:[^\n]*)/gm,'<div class="font-semibold text-base mb-2 text-red-700">$1</div>').replace(/^(ุงูุฃุฎุทุงุก ุงููุญููุฉ:[^\n]*)/gm,'<div class="font-semibold text-base mb-2 text-red-700">$1</div>').replace(/^(ูุตุงุฆุญ ููุชุญุณูู:[^\n]*)/gm,'<div class="font-semibold text-base mb-2 text-blue-700">$1</div>').replace(/^โข ([^\n]+)/gm,'<div class="mr-4 mb-2">โข $1</div>').replace(/\n\n/g,'</p><p class="mb-4">').replace(/^/,'<p class="mb-4">').replace(/$/,'</p>');return formatted;}function displayResults(data){console.log('๐ Received data:',data);document.getElementById('rating').textContent=data.gemini_rating?`${data.gemini_rating}/10`:'ุบูุฑ ูุชููุฑ';document.getElementById('lexicalDiversity').textContent=data.lexical_diversity?`${parseFloat(data.lexical_diversity).toFixed(1)}%`:'ุบูุฑ ูุชููุฑ';document.getElementById('lexicalDensity').textContent=data.lexical_density?`${parseFloat(data.lexical_density).toFixed(1)}%`:'ุบูุฑ ูุชููุฑ';document.getElementById('structureCount').textContent=data.paragraph_count?data.paragraph_count:'ุบูุฑ ูุชููุฑ';let summary='ุชู ุงุณุชูุงู ุงูููุงู ูุณูุชู ูุฑุงุฌุนุชู';if(data.feedback_summary&&typeof data.feedback_summary==='string'){summary=data.feedback_summary;}document.getElementById('summary').textContent=summary;let feedback='ุดูุฑุงู ูุฅุฑุณุงู ููุงูู. ุณูุชู ูุฑุงุฌุนุชู ูุฑูุจุงู.';if(data.gemini_feedback&&typeof data.gemini_feedback==='string'){feedback=data.gemini_feedback;}const formattedFeedback=formatFeedbackText(feedback);document.getElementById('detailedFeedback').innerHTML=formattedFeedback;resultsContainer.classList.remove('hidden');setTimeout(()=>{resultsContainer.scrollIntoView({behavior:'smooth',block:'start'});},300);}updateCounts();</script></body></html>
